{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\001Study\\\\Year3Therm2\\\\240-311 Distributed\\\\MiniProJect\\\\FrontEnd\\\\mini-project\\\\components\\\\Autocomplete.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nconst URL = `https://api.thecatapi.com/v1/breeds`;\nconst imgURL = `https://api.thecatapi.com/v1/images`;\n\nconst Autocomplete = props => {\n  const {\n    0: active,\n    1: setActive\n  } = useState(0);\n  const {\n    0: filtered,\n    1: setFiltered\n  } = useState([]);\n  const {\n    0: isShow,\n    1: setIsShow\n  } = useState(false);\n  const {\n    0: input,\n    1: setInput\n  } = useState(\"\");\n  const {\n    0: cats,\n    1: setCats\n  } = useState([]);\n  const {\n    0: image,\n    1: setImage\n  } = useState({});\n  const {\n    0: find,\n    1: setFind\n  } = useState('');\n  const {\n    0: refimg,\n    1: setRefimg\n  } = useState('');\n  const {\n    0: nameCat,\n    1: setNameCat\n  } = useState('');\n  const {\n    0: temperament,\n    1: setTemperament\n  } = useState('');\n  const {\n    0: origin,\n    1: setOrigin\n  } = useState('');\n  const {\n    0: description,\n    1: setDescription\n  } = useState('');\n  const {\n    0: life_span,\n    1: setLife_span\n  } = useState('');\n  useEffect(() => {\n    getCats();\n  }, []);\n\n  const getImage = async id => {\n    let imp = await axios.get(`${imgURL}/${id}`);\n    setImage(imp.data);\n  };\n\n  const getCats = async () => {\n    let cat = await axios.get(URL);\n    setCats(cat.data);\n  };\n\n  const search = async name => {\n    cats.map((item, index) => {\n      if (name === item.name) {\n        setRefimg(item.reference_image_id);\n        setNameCat(item.name);\n        setTemperament(item.temperament);\n        setOrigin(item.origin);\n        setDescription(item.description);\n        setLife_span(item.life_span);\n        getImage(refimg);\n      }\n    });\n  };\n\n  const onChange = e => {\n    const {\n      suggestions\n    } = props;\n    const input = e.currentTarget.value;\n    const newFilteredSuggestions = suggestions.filter(suggestion => suggestion.toLowerCase().indexOf(input.toLowerCase()) > -1);\n    setFind(e.taget.value);\n    setActive(0);\n    setFiltered(newFilteredSuggestions);\n    setIsShow(true);\n    setInput(e.currentTarget.value);\n  };\n\n  const onClick = e => {\n    setActive(0);\n    setFiltered([]);\n    setIsShow(false);\n    setInput(e.currentTarget.innerText);\n  };\n\n  const onKeyDown = e => {\n    if (e.keyCode === 13) {\n      // enter key\n      setActive(0);\n      setIsShow(false);\n      setInput(filtered[active]);\n    } else if (e.keyCode === 38) {\n      // up arrow\n      return active === 0 ? null : setActive(active - 1);\n    } else if (e.keyCode === 40) {\n      // down arrow\n      return active - 1 === filtered.length ? null : setActive(active + 1);\n    }\n  };\n\n  const renderAutocomplete = () => {\n    if (isShow && input) {\n      if (filtered.length) {\n        return /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"autocomplete\",\n          children: filtered.map((suggestion, index) => {\n            let className;\n\n            if (index === active) {\n              className = \"active\";\n            }\n\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: className,\n              onClick: onClick,\n              children: suggestion\n            }, suggestion, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-autocomplete\",\n          children: /*#__PURE__*/_jsxDEV(\"em\", {\n            children: \"Not found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this);\n      }\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: image.url,\n      width: \"300\",\n      height: \"300\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), \"name: \", nameCat, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), \"temperament: \", temperament, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), \"origin: \", origin, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), \"description: \", description, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), \"life span: \", life_span, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), \"Find:\", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      onChange: onChange,\n      onKeyDown: onKeyDown,\n      value: input\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), renderAutocomplete(), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => search(find),\n      children: \"Find!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\nexport default Autocomplete;","map":{"version":3,"sources":["D:/001Study/Year3Therm2/240-311 Distributed/MiniProJect/FrontEnd/mini-project/components/Autocomplete.js"],"names":["React","useState","useEffect","axios","URL","imgURL","Autocomplete","props","active","setActive","filtered","setFiltered","isShow","setIsShow","input","setInput","cats","setCats","image","setImage","find","setFind","refimg","setRefimg","nameCat","setNameCat","temperament","setTemperament","origin","setOrigin","description","setDescription","life_span","setLife_span","getCats","getImage","id","imp","get","data","cat","search","name","map","item","index","reference_image_id","onChange","e","suggestions","currentTarget","value","newFilteredSuggestions","filter","suggestion","toLowerCase","indexOf","taget","onClick","innerText","onKeyDown","keyCode","length","renderAutocomplete","className","url"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from 'axios'\r\n\r\nconst URL = `https://api.thecatapi.com/v1/breeds`\r\nconst imgURL = `https://api.thecatapi.com/v1/images`\r\n\r\nconst Autocomplete = (props) => {\r\n  const [active, setActive] = useState(0);\r\n  const [filtered, setFiltered] = useState([]);\r\n  const [isShow, setIsShow] = useState(false);\r\n  const [input, setInput] = useState(\"\");\r\n  const [cats, setCats] = useState([]);\r\n  const [image, setImage] = useState({});\r\n  const [find, setFind] = useState('');\r\n  const [refimg, setRefimg] = useState('')\r\n  const [nameCat, setNameCat] = useState('')\r\n  const [temperament, setTemperament] = useState('')\r\n  const [origin, setOrigin] = useState('')\r\n  const [description, setDescription] = useState('')\r\n  const [life_span, setLife_span] = useState('')\r\n\r\n\r\n  useEffect(() => {\r\n    getCats()\r\n  }, []);\r\n\r\n  const getImage = async (id) => {\r\n    let imp = await axios.get(`${imgURL}/${id}`)\r\n    setImage(imp.data)\r\n  }\r\n\r\n  const getCats = async () => {\r\n    let cat = await axios.get(URL)\r\n    setCats(cat.data)\r\n\r\n  }\r\n\r\n  const search = async (name) => {\r\n\r\n    cats.map((item, index) => {\r\n      if (name === item.name) {\r\n        setRefimg(item.reference_image_id)\r\n        setNameCat(item.name)\r\n        setTemperament(item.temperament)\r\n        setOrigin(item.origin)\r\n        setDescription(item.description)\r\n        setLife_span(item.life_span)\r\n        getImage(refimg)\r\n      }\r\n\r\n    })\r\n\r\n  }\r\n\r\n  const onChange = e => {\r\n    const { suggestions } = props;\r\n    const input = e.currentTarget.value;\r\n    const newFilteredSuggestions = suggestions.filter(\r\n      suggestion =>\r\n        suggestion.toLowerCase().indexOf(input.toLowerCase()) > -1\r\n    );\r\n    setFind(e.taget.value)\r\n    setActive(0);\r\n    setFiltered(newFilteredSuggestions);\r\n    setIsShow(true);\r\n    setInput(e.currentTarget.value)\r\n    \r\n    \r\n  };\r\n\r\n  const onClick = e => {\r\n    setActive(0);\r\n    setFiltered([]);\r\n    setIsShow(false);\r\n    setInput(e.currentTarget.innerText)\r\n    \r\n  };\r\n\r\n  const onKeyDown = e => {\r\n    if (e.keyCode === 13) { // enter key\r\n      setActive(0);\r\n      setIsShow(false);\r\n      setInput(filtered[active])\r\n    }\r\n    else if (e.keyCode === 38) { // up arrow\r\n      return (active === 0) ? null : setActive(active - 1);\r\n    }\r\n    else if (e.keyCode === 40) { // down arrow\r\n      return (active - 1 === filtered.length) ? null : setActive(active + 1);\r\n    }\r\n  };\r\n\r\n  const renderAutocomplete = () => {\r\n    if (isShow && input) {\r\n      if (filtered.length) {\r\n        return (\r\n          <ul className=\"autocomplete\">\r\n            {filtered.map((suggestion, index) => {\r\n              let className;\r\n              if (index === active) {\r\n                className = \"active\";\r\n              }\r\n              return (\r\n                <li className={className} key={suggestion} onClick={onClick}>\r\n                  {suggestion}\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n        );\r\n      } else {\r\n        return (\r\n          <div className=\"no-autocomplete\">\r\n            <em>Not found</em>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n    return <></>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <img src={image.url} width=\"300\" height=\"300\" />\r\n      <br></br>\r\n        name: {nameCat}\r\n      <br></br>\r\n        temperament: {temperament}\r\n      <br></br>\r\n        origin: {origin}\r\n      <br></br>\r\n        description: {description}\r\n      <br></br>\r\n        life span: {life_span}\r\n      <br></br>\r\n       Find:\r\n      <input\r\n        type=\"text\"\r\n        onChange={onChange}\r\n        onKeyDown={onKeyDown}\r\n        value={input}\r\n      />\r\n\r\n        {/* <input type=\"text\" onChange={(e) => setFind(e.target.value)} /> */}\r\n      \r\n      {renderAutocomplete()}\r\n      <button onClick={() => search(find)}>Find!</button>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Autocomplete;"]},"metadata":{},"sourceType":"module"}